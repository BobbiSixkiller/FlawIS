query conferences($year: Int!) {
	conferences(year: $year) {
		year
		edges {
			cursor
			node {
				id
				name
				slug
				description
				logoUrl
				dates {
					start
					end
				}
			}
		}
		pageInfo {
			hasNextPage
			endCursor
		}
	}
}

fragment AttendeeFragment on Attendee {
	id
	invoice {
		payer {
			name
			address {
				street
				city
				postal
				country
			}
			ICO
			DIC
			ICDPH
		}
		issuer {
			name
			address {
				street
				city
				postal
				country
			}
			ICO
			DIC
			ICDPH
			variableSymbol
			IBAN
			SWIFT
			stampUrl
		}
		body {
			type
			issueDate
			vatDate
			dueDate
			price
			vat
			body
			comment
		}
	}
	submissions {
		id
		name
		abstract
		keywords
		conference {
			id
			name
		}
		section {
			id
			name
		}
		authors {
			id
			name
			email
		}
		translations {
			language
			name
			abstract
			keywords
		}
		submissionUrl
		createdAt
		updatedAt
	}
}

query conference($slug: String!) {
	conference(slug: $slug) {
		id
		name
		slug
		description
		logoUrl
		dates {
			start
			end
			regEnd
		}
		sections {
			id
			name
			description
			languages
		}
		tickets {
			id
			name
			description
			price
			withSubmission
			online
		}
		attending {
			...AttendeeFragment
		}
	}
}

mutation addTicket($id: ObjectId!, $data: TicketInput!) {
	addTicket(id: $id, data: $data) {
		id
		tickets {
			id
			name
			description
			price
			withSubmission
			online
		}
	}
}

mutation removeTicket($id: ObjectId!, $ticketId: ObjectId!) {
	removeTicket(id: $id, ticketId: $ticketId) {
		id
		tickets {
			id
			name
			description
			price
			withSubmission
			online
		}
	}
}

mutation updateConferenceUser($data: ConferenceUserInput!) {
	updateConferenceUser(data: $data) {
		id
		name
		email
		organisation
		telephone
		role
		verified
		billings {
			name
			address {
				street
				city
				postal
				country
			}
			ICO
			DIC
			ICDPH
		}
	}
}

mutation createConference($data: ConferenceInput!) {
	createConference(data: $data) {
		id
		name
		description
		slug
		logoUrl
		dates {
			start
			end
		}
		billing {
			name
			address {
				street
				city
				postal
				country
			}
			ICO
			DIC
			ICDPH
			variableSymbol
			IBAN
			SWIFT
			stampUrl
		}
		translations {
			language
			name
			description
			logoUrl
		}
		createdAt
		updatedAt
	}
}
